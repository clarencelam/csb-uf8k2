parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"VvYp":[function(require,module,exports) {
"use strict";function t(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function s(t,s){for(var i=0;i<s.length;i++){var e=s[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function i(t,i,e){return i&&s(t.prototype,i),e&&s(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){function s(i,e){t(this,s),this.daysTaxPaid=!1,this.GAME_WIDTH=i,this.GAME_HEIGHT=e,this.dollars=0,this.day=1,this.timerOn=!1,this.business_day_timer=30,this.advance_interval=1e3,this.days_dollars=0,this.days_fedcusts=0,this.days_tax=2,this.lives=3,this.display_height=40,this.display_width=400,this.display_xpos=0,this.display_ypos=0,this.text_ypos=this.display_ypos+75,this.symbol_ypos=this.display_ypos+50,this.start_xpos=210,this.sign_img=document.getElementById("sign"),this.coin_img=document.getElementById("coin_img"),this.clam_img=document.getElementById("clam_default"),this.clock_img=document.getElementById("clock"),this.day_img=document.getElementById("day"),this.night_img=document.getElementById("night"),this.coin_size=25,this.sign_height=60,this.sign_width=600,this.custs=[],this.thugs=[],this.custgen_on=!1,this.custgen_time=2e3,this.activecust_length=this.custs.length,this.activecust_maxlength=15,this.thuggen_on=!1,this.thuggen_time=5e3,this.activethug_length=this.thugs.length,this.activethug_maxlength=15,this.notax_thuggen_penalty=-250}return i(s,[{key:"resetLevel",value:function(){this.custs=[],this.thugs=[],this.days_dollars=0,this.days_fedcusts=0,this.timerOn=!1,this.business_day_timer=30,this.daysTaxPaid=!1}},{key:"gameOver",value:function(){this.custs=[],this.thugs=[],this.day=1,this.dollars=0,this.days_tax=2,this.lives=10,this.thuggen_time=1e3,this.resetLevel()}},{key:"incrementLevel",value:function(){this.days_tax=this.days_tax+1,this.day++,!1===this.daysTaxPaid&&(this.thuggen_time=this.thuggen_time+this.notax_thuggen_penalty,console.log("Current thug gen time: "+this.thuggen_time))}},{key:"update",value:function(){}},{key:"draw",value:function(t){t.textAlign="right",t.font="25px Tahoma",t.fillStyle="black",t.drawImage(this.sign_img,this.display_xpos,this.display_ypos),t.drawImage(this.coin_img,this.start_xpos,this.symbol_ypos,this.coin_size,this.coin_size),t.fillText(this.dollars,this.start_xpos+120,this.text_ypos),t.drawImage(this.clock_img,this.start_xpos+205,this.symbol_ypos,this.coin_size,this.coin_size),t.fillText(this.business_day_timer,this.start_xpos+280,this.text_ypos),t.drawImage(this.clam_img,this.start_xpos+350,this.symbol_ypos,30,30),t.fillText(this.lives,this.start_xpos+420,this.text_ypos),t.drawImage(this.day_img,this.start_xpos+790,this.symbol_ypos,30,30),t.fillText("DAY "+this.day,this.start_xpos+900,this.text_ypos)}}]),s}();exports.default=e;
},{}],"NyRq":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function i(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=function(){function t(i,s){e(this,t),this.image=document.getElementById("nigiri_img"),this.food_type="nigiri",this.x_pos=i,this.y_pos=s,this.size=25,this.marked_for_deletion=!1}return i(t,[{key:"update",value:function(e,t,i,s,o){1===i?(this.x_pos=e+15+this.size/2-s*this.size/3,this.y_pos=t+Math.pow(s,2)):(this.x_pos=e+15+this.size/2+s*this.size/3,this.y_pos=t+Math.pow(s,2))}},{key:"draw",value:function(e){e.drawImage(this.image,this.x_pos,this.y_pos,this.size,this.size)}}]),t}();exports.default=s;
},{}],"IOE6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.CLAMSTATE=void 0;var t=s(require("/src/foodSprite"));function s(t){return t&&t.__esModule?t:{default:t}}function i(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function e(t,s){for(var i=0;i<s.length;i++){var e=s[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function h(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}var o={ACTIVE:0,STUNNED:1,DEAD:2};exports.CLAMSTATE=o;var l=function(){function s(t,e){i(this,s),this.img=document.getElementById("clam_default"),this.flipped_img=document.getElementById("clam_flipped"),this.GAMEWIDTH=t,this.GAMEHEIGHT=e,this.x_pos=t/2+10,this.y_pos=e-100,this.size=75,this.height=75,this.width=75,this.x_speed=5,this.y_speed=4,this.bullets_held=[],this.moving_left=!1,this.moving_right=!1,this.moving_up=!1,this.moving_down=!1,this.facing=1,this.push_velocity=30,this.pushed_right=!1,this.pushed_left=!1,this.shooting=!1}return h(s,[{key:"resetPushVelocity",value:function(){this.push_velocity=30}},{key:"update",value:function(t){var s=this;t&&(!0===this.moving_left&&this.x_pos>0&&(this.x_pos=this.x_pos-this.x_speed,this.facing=-1),!0===this.moving_right&&this.x_pos<this.GAMEWIDTH-this.size&&(this.x_pos=this.x_pos+this.x_speed,this.facing=1),!0===this.moving_up&&this.y_pos>0&&(this.y_pos=this.y_pos-this.y_speed),!0===this.moving_down&&this.y_pos<this.GAMEHEIGHT-this.size&&(this.y_pos=this.y_pos+this.y_speed),this.bullets_held.forEach(function(t,i){t.update(s.x_pos,s.y_pos,s.facing,i)}),!1===this.clamWithinBorders()&&(this.pushed_left=!1,this.pushed_right=!1),!0===this.pushed_right?(this.x_pos=this.x_pos+this.push_velocity,this.push_velocity=this.push_velocity-1,this.moving_left=!1,0===this.push_velocity&&(this.pushed_right=!1,this.resetPushVelocity())):!0===this.pushed_left&&(this.x_pos=this.x_pos-this.push_velocity,this.push_velocity=this.push_velocity-1,this.moving_right=!1,0===this.push_velocity&&(this.pushed_left=!1,this.resetPushVelocity())))}},{key:"clamWithinBorders",value:function(){return this.x_pos>0&&this.x_pos+this.width<this.GAMEWIDTH&&this.y_pos>0&&this.y_pos+this.height<this.GAMEHEIGHT}},{key:"newBullet",value:function(){this.bullets_held.push(new t.default(this.x_pos,this.y_pos))}},{key:"drawHorizontally",value:function(t,s){t.translate(s+this.size,this.y_pos),t.scale(-1,1),t.drawImage(this.img,0,0,this.size,this.size),t.setTransform(1,0,0,1,0,0)}},{key:"draw",value:function(t){switch(!0){case 1===this.facing:t.drawImage(this.img,this.x_pos,this.y_pos,this.size,this.size);break;case-1===this.facing:this.drawHorizontally(t,this.x_pos);break;default:t.drawImage(this.img,this.x_pos,this.y_pos,this.size,this.size)}t.fillText("Food held:"+this.bullets_held.length,this.x_pos,this.y_pos);for(var s=this.bullets_held.length-1;s>=0;s--)this.bullets_held[s].draw(t)}}]),s}();exports.default=l;
},{"/src/foodSprite":"NyRq"}],"gFLk":[function(require,module,exports) {
"use strict";function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n}function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=n(function e(n,o){t(this,e),this.canvas=n,document.addEventListener("keydown",function(e){switch(e.keyCode){case 37:o.moving_left=!0;break;case 39:o.moving_right=!0;break;case 38:o.moving_up=!0;break;case 40:o.moving_down=!0}}),document.addEventListener("keyup",function(e){switch(e.keyCode){case 37:o.moving_left=!1;break;case 39:o.moving_right=!1;break;case 38:o.moving_up=!1;break;case 40:o.moving_down=!1}}),document.addEventListener("click",function(e){var t=n.getBoundingClientRect(),o=e.clientX-t.left,i=e.clientY-t.top;console.log("clickX: "+o+"clickY: "+i)})});exports.default=o;
},{}],"gXhG":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=function(){function e(o,i){t(this,e),this.image=document.getElementById("foodstand"),this.food_img1=document.getElementById("nigiri_img"),this.game_height=i,this.truck_width=375,this.truck_height=200,this.x_pos=100,this.y_pos=112,this.max_food=5,this.cooked_food=[],this.size=400,this.cooked_food_size=50,this.number_pos_x=40,this.number_pos_y=i*(2/3),this.cooking=!1,this.cook_time=2e3}return o(e,[{key:"update",value:function(t){this.cooked_food=this.cooked_food.filter(function(t){return!t.marked_for_deletion}),this.cooked_food.forEach(function(t,e){t.update()})}},{key:"draw",value:function(t){t.drawImage(this.image,this.x_pos,this.y_pos,this.truck_width,this.truck_height),this.cooked_food.forEach(function(e,o){e.draw(t)})}}]),e}();exports.default=i;
},{}],"KSji":[function(require,module,exports) {
"use strict";function o(o,s){var e=o.y_pos,t=o.y_pos+o.size,p=o.x_pos,n=o.x_pos+o.size,r=s.y_pos,i=s.y_pos+s.size,_=s.x_pos,x=s.x_pos+s.size;return t>r&&e<i&&n>_&&p<x}function s(o,s){var e=o.y_pos,t=o.y_pos+o.size,p=(o.x_pos,o.x_pos,o.size,o.x_pos+o.size/2),n=s.y_pos,r=s.y_pos+s.height,i=s.x_pos,_=s.x_pos+s.width;return t>n&&e<r&&p>i&&p<_}function e(o,s){var e=o.y_pos,t=o.y_pos+o.height,p=o.x_pos,n=o.x_pos+o.width,r=s.y_pos,i=s.y_pos+s.height,_=s.x_pos,x=s.x_pos+s.width;return t>r&&e<i&&n>_&&p<x}function t(o){o.size=o.size-10,o.x_pos=o.x_pos+5,o.y_pos=o.y_pos+5}function p(o,s,e){var t=setInterval(o,s);e&&clearInterval(t)}function n(o,s){o.hungerpoints=o.hunger_points-s.hunger_fill}function r(o,s){return Math.floor(Math.random()*(s-o+1)+o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.detectCollision=o,exports.detectOverlapCollision=s,exports.detectRectCollision=e,exports.eatFood=n,exports.foodShrink=t,exports.incrementalAction=p,exports.randomIntFromInterval=r;
},{}],"wRSA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.CUSTSTATE=void 0;var t=require("/src/gameMechanics");function i(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function s(t,i){for(var s=0;s<i.length;s++){var e=i[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function e(t,i,e){return i&&s(t.prototype,i),e&&s(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var h={ACTIVE:0,EATING:1,EXITING:2,DROPPINGLOOT:3};exports.CUSTSTATE=h;var r=function(){function s(e,r){i(this,s),this.GAMEWIDTH=e,this.GAMEHEIGHT=r,this.state=h.ACTIVE,this.saturated=!1,this.img_frame1=document.getElementById("cust_baseA"),this.img_frame2=document.getElementById("cust_baseB"),this.height=33,this.width=45,this.speed=3,this.return_speed=4,this.hunger_points=2,this.drop_value=1,this.markfordelete=!1,this.min=300,this.max=r,this.rndBinary=(0,t.randomIntFromInterval)(1,2);var n=(0,t.randomIntFromInterval)(this.min,this.max);1===this.rndBinary?this.x_pos=e-this.width:this.x_pos=0,this.y_pos=n,1===this.rndBinary?this.x_direction=-1:this.x_direction=1,this.y_direction=0}return e(s,[{key:"update",value:function(t){this.x_pos=this.x_pos+this.speed*this.x_direction,this.y_pos=this.y_pos+this.speed*this.y_direction,this.state===h.EATING&&(this.walking=!1,this.speed=0),this.state===h.EXITING&&(this.walking=!0,this.y_direction=-1,this.speed=this.return_speed),this.checkOutsideBorders()}},{key:"draw",value:function(t){var i=(new Date).getMilliseconds();this.state!==h.ACTIVE&&this.state!==h.EXITING||(this.img=i<500?this.img_frame1:this.img_frame2),2===this.rndBinary?(t.translate(this.x_pos+this.width,this.y_pos),t.scale(-1,1),t.drawImage(this.img,0,0,this.width,this.height),t.setTransform(1,0,0,1,0,0)):t.drawImage(this.img,this.x_pos,this.y_pos,this.width,this.height)}},{key:"checkOutsideBorders",value:function(){(this.x_pos>this.GAMEWIDTH&&1===this.x_direction||this.x_pos+this.width<0&&-1===this.x_direction||this.y_pos<0)&&(this.markfordelete=!0)}}]),s}();exports.default=r;
},{"/src/gameMechanics":"KSji"}],"lD31":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.THIEFSTATE=void 0;var t=require("./gameManager"),i=require("/src/gameMechanics");function s(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function e(t,i){for(var s=0;s<i.length;s++){var e=i[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function h(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}var a={WALKING:0,STEALING:1,STANDING:2,EXITING:3,ATTACKING:4};exports.THIEFSTATE=a;var n=function(){function e(t,h){s(this,e),this.GAMEWIDTH=t,this.GAMEHEIGHT=h,this.state=a.WALKING,this.img_frame1=document.getElementById("thugA1"),this.img_frame2=document.getElementById("thugA2"),this.img_standing=document.getElementById("thugA3"),this.img_attack1=document.getElementById("thugA4"),this.img_attack2=document.getElementById("thugA5"),this.scaleup=20,this.height=65+this.scaleup,this.width=60+this.scaleup,this.atk_height=80+this.scaleup,this.atk_width=90+this.scaleup,this.speed=2,this.x_direction=1,this.y_direction=1,this.img=document.getElementById("thugA1"),this.y_pos=700,this.randombinary=(0,i.randomIntFromInterval)(1,2),1===this.randombinary?this.x_pos=1:this.x_pos=this.GAMEWIDTH-this.width,this.markfordelete=!1,this.randomMovementOn=!1,this.randomMovementInterval=3e3,this.attacking=!1}return h(e,[{key:"prepAttack",value:function(){this.img=this.img_attack1}},{key:"goBackWalking",value:function(){this.randomMovementOn=!0,this.attacking=!1,this.state=a.WALKING,console.log("thug should go Back Walking, ready for next attack")}},{key:"update",value:function(i){switch(i===t.GAMESTATE.GAMEOVER?this.state=a.STANDING:i===t.GAMESTATE.ENDDAY&&(this.state=a.EXITING),this.state){case a.WALKING:this.attacking=!1,this.bounceBorders(),this.x_pos=this.x_pos+this.speed*this.x_direction,this.y_pos=this.y_pos+this.speed*this.y_direction;var s=(new Date).getMilliseconds();this.img=s<500?this.img_frame1:this.img_frame2;break;case a.ATTACKING:break;case a.STANDING:this.img=this.img_standing;break;case a.EXITING:if(this.attacking=!1,this.x_pos=this.x_pos+this.speed*this.x_direction,this.y_pos=this.y_pos,!0===this.checkBorders()&&(this.markfordelete=!0),0===this.x_direction)this.img=this.img_standing;else{var e=(new Date).getMilliseconds();this.img=e<500?this.img_frame1:this.img_frame2}}}},{key:"bounceBorders",value:function(){this.x_pos<=0&&(this.x_direction=-1*this.x_direction),this.x_pos+this.width>=this.GAMEWIDTH&&(this.x_direction=-1*this.x_direction),this.y_pos<=0&&(this.y_direction=-1*this.y_direction),this.y_pos+this.height>=this.GAMEHEIGHT&&(this.y_direction=-1*this.y_direction)}},{key:"checkBorders",value:function(){return this.x_pos<=0||(this.x_pos+this.width>=this.GAMEWIDTH||(this.y_pos<=0||this.y_pos+this.height>=this.GAMEHEIGHT))}},{key:"draw",value:function(t){this.state===a.ATTACKING?1===this.x_direction?(t.translate(this.x_pos+this.atk_width,this.y_pos),t.scale(-1,1),t.drawImage(this.img,0,0,this.atk_width,this.atk_height),t.setTransform(1,0,0,1,0,0)):t.drawImage(this.img,this.x_pos,this.y_pos,this.atk_width,this.atk_height):1===this.x_direction?(t.translate(this.x_pos+this.width,this.y_pos),t.scale(-1,1),t.drawImage(this.img,0,0,this.width,this.height),t.setTransform(1,0,0,1,0,0)):t.drawImage(this.img,this.x_pos,this.y_pos,this.width,this.height)}}]),e}();exports.default=n;
},{"./gameManager":"gCPM","/src/gameMechanics":"KSji"}],"T45U":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(){function t(i,n,o){e(this,t),this.image=document.getElementById("coin_img"),this.x_pos=i,this.y_pos=n,this.size=25,this.marked_for_deletion=!1,this.value=o}return i(t,[{key:"draw",value:function(e){e.drawImage(this.image,this.x_pos,this.y_pos,25,25)}},{key:"update",value:function(e){}}]),t}();exports.default=n;
},{}],"qjGJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.FOODSTATE=void 0;var e=require("/src/gameMechanics");function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function s(e,t,s){return t&&i(e.prototype,t),s&&i(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}var r={INKITCHEN:0,SERVED:1,BEINGEATEN:2};exports.FOODSTATE=r;var a=function(){function i(s,a,n){var h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.SERVED;arguments.length>4&&arguments[4];if(t(this,i),this.state=h,this.image=document.getElementById("nigiri_img"),this.x_pos=s,this.y_pos=a,this.size=50,this.speed=10,this.speed_depricator=.2,this.fade_time=180,this.fade_depricator=1,this.marked_for_deletion=!1,this.hunger_fill=1,this.pickupable=!1,this.direction=n,this.deg=0,this.state===r.INKITCHEN){var o=(0,e.randomIntFromInterval)(2,9);this.speed=o}}return s(i,[{key:"resetStats",value:function(){this.speed=10}},{key:"advanceSpinDegree",value:function(){this.deg=this.deg+2}},{key:"drawHelper",value:function(e){e.save();var t=this.deg*Math.PI/180;e.translate(this.x_pos+this.size/2,this.y_pos+this.size/2),e.rotate(t),e.drawImage(this.image,this.size/2*-1,this.size/2*-1,this.size,this.size),e.restore()}},{key:"draw",value:function(e){!0===this.spinning?(this.drawHelper(e),this.advanceSpinDegree()):this.drawHelper(e)}},{key:"update",value:function(e){this.x_pos+=this.speed*this.direction,this.speed>0?this.speed=this.speed-this.speed_depricator:this.speed=0,this.state===r.SERVED&&(this.spinning=!0,this.pickupable=!0,this.fade_time>0?this.fade_time=this.fade_time-this.fade_depricator:(this.fade_time=0,this.marked_for_deletion=!0)),this.state===r.BEINGEATEN&&(this.speed=0,this.spinning=!1,this.pickupable=!1)}}]),i}();exports.default=a;
},{"/src/gameMechanics":"KSji"}],"PKv1":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var h=t[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(e,h.key,h)}}function i(e,i,h){return i&&t(e.prototype,i),h&&t(e,h),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var h=function(){function t(i,h,n,o){e(this,t),this.gamewidth=i,this.gameheight=h,this.height=380,this.width=800,this.timer_length=n,this.tax_amount=o,this.screen_centered_x=this.gamewidth/2,this.screen_centered_y=this.gameheight/2,this.box_background_color="#B3EFF7",this.box_outline_color="black",this.default_font="20px Tahoma",this.box_title="WELCOME TO CHEF CLAM",this.box_line1="You've come to Maple Island with a humble dream:",this.box_line2="To make a living cooking food and serving it to the community",this.box_line3="INSTRUCTIONS:",this.box_line4="Move with ARROW KEYS or WASD. Throw items with SPACEBAR",this.box_line5="Collect food from your food truck and feed as many customers as you can!",this.box_line6="But make sure you make enough money to pay the tax.",this.box_line7="And be careful for thieves-- a rock or two should keep them away",this.box_line8="TODAY'S WORKDAY: "+this.timer_length+" SECONDS",this.box_line9="TAX OWED AT END OF DAY: "+this.tax_amount+" DOLLARS",this.box_line10="Walk RIGHT to begin the workday"}return i(t,[{key:"drawTextLine",value:function(e,t,i){e.fillText(t,this.screen_centered_x,this.screen_centered_y-this.height/2+30*i)}},{key:"draw",value:function(e){e.fillStyle=this.box_background_color,e.fillRect(this.screen_centered_x-this.width/2,this.screen_centered_y-this.height/2,this.width,this.height),e.stroke(),e.fillStyle=this.box_outline_color,e.strokeRect(this.screen_centered_x-this.width/2,this.screen_centered_y-this.height/2,this.width,this.height),e.font=this.default_font,e.textAlign="center",this.drawTextLine(e,this.box_title,1),this.drawTextLine(e,this.box_line1,2),this.drawTextLine(e,this.box_line2,3),this.drawTextLine(e,this.box_line3,4),this.drawTextLine(e,this.box_line4,5),this.drawTextLine(e,this.box_line5,6),this.drawTextLine(e,this.box_line6,7),this.drawTextLine(e,this.box_line7,8),this.drawTextLine(e,this.box_line8,9),this.drawTextLine(e,this.box_line9,10),this.drawTextLine(e,this.box_line10,11)}}]),t}();exports.default=h;
},{}],"g2zd":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function i(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=function(){function e(i,s,h,o,n){t(this,e),this.gamewidth=i,this.gameheight=s,this.height=180,this.width=700,this.box_title="BUSINESS DAY OVER",this.numFed=h,this.numCoins=o,this.tax=n,this.screen_centered_x=this.gamewidth/2-this.width/2,this.screen_centered_y=this.gameheight/2-this.height/2,this.screen_bottom_y=this.gameheight-this.height,this.x_pos=this.screen_centered_x,this.y_pos=this.screen_bottom_y-10,this.box_background_color="white",this.box_outline_color="black",this.default_font="20px Tahoma"}return i(e,[{key:"update",value:function(){}},{key:"draw",value:function(t){t.fillStyle=this.box_background_color,t.textAlign="left",t.font="25px Tahoma",t.fillRect(this.x_pos,this.y_pos,this.width,this.height),t.stroke(),t.fillStyle=this.box_outline_color,t.strokeRect(this.x_pos,this.y_pos,this.width,this.height),t.font=this.default_font,t.fillText(this.box_title,this.x_pos+10,this.y_pos+30),t.font=this.default_font,t.fillText("Customers Fed: "+this.numFed,this.x_pos+10,this.y_pos+60),t.fillText("Dollars Earned: "+this.numCoins,this.x_pos+10,this.y_pos+90),t.fillText("Clean up the Kitchen's Food, & then press SPACEBAR to end the business day.",this.x_pos+10,this.y_pos+150)}}]),e}();exports.default=s;
},{}],"oLgR":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=function(){function t(i,o,r){e(this,t),this.image=document.getElementById("portal"),this.gogamestate=r,this.x_pos=i,this.y_pos=o,this.height=150,this.width=50,this.marked_for_deletion=!1}return i(t,[{key:"draw",value:function(e){e.drawImage(this.image,this.x_pos,this.y_pos,this.height,this.width)}},{key:"getGamestate",value:function(){return this.gogamestate}}]),t}();exports.default=o;
},{}],"ushN":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=function(){function e(i,o,s,h,n){t(this,e),this.gamewidth=i,this.gameheight=o,this.height=200,this.width=800,this.day_number=s,this.timer_length=h,this.tax_amount=n,this.screen_centered_x=this.gamewidth/2-this.width/2,this.screen_centered_y=this.gameheight/2-this.height/2,this.screen_bottom_y=this.gameheight-this.height,this.x_pos=this.screen_centered_x,this.y_pos=this.screen_bottom_y-10,this.box_background_color="white",this.box_outline_color="black",this.default_font="20px Tahoma",this.box_title="Good Morning & Congratulations!",this.box_line1="You've made it to Day #"+this.day_number+".",this.box_line2="Today's work day is "+this.timer_length+" seconds.",this.box_line3="At the end of day, the Tax office wants "+this.tax_amount+" COINS",this.box_line4="Now, pick up the sushi to start,",this.box_line5="and hope for a good day of business!"}return i(e,[{key:"drawTextLine",value:function(t,e,i){t.fillText(e,this.x_pos+10,this.y_pos+30*i)}},{key:"draw",value:function(t){t.fillStyle=this.box_background_color,t.textAlign="left",t.font="25px Tahoma",t.fillRect(this.x_pos,this.y_pos,this.width,this.height),t.stroke(),t.fillStyle=this.box_outline_color,t.strokeRect(this.x_pos,this.y_pos,this.width,this.height),t.font=this.default_font,t.textAlign="left",this.drawTextLine(t,this.box_title,1),this.drawTextLine(t,this.box_line1,2),this.drawTextLine(t,this.box_line2,3),this.drawTextLine(t,this.box_line3,4),this.drawTextLine(t,this.box_line4,5),this.drawTextLine(t,this.box_line5,6)}}]),e}();exports.default=o;
},{}],"uO5d":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var p=e[i];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(t,p.key,p)}}function i(t,i,p){return i&&e(t.prototype,i),p&&e(t,p),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var p=function(){function e(i,p,o){t(this,e),this.image=document.getElementById("taxman1"),this.x_pos=i,this.y_pos=p,this.width=155,this.height=115,this.popup_x=this.x_pos-500,this.popup_y=this.y_pos-300,this.popup_width=600,this.popup_height=200,this.line1="Hello Clam. Today's tax is $"+o,this.line2="Press spacebar to pay and we will ensure your spot in Maple Island",this.line3="If you don't pay though, we cannot promise your protection",this.line4="from the more... malevolent citizens..."}return i(e,[{key:"drawTextLine",value:function(t,e,i){t.fillText(e,this.popup_x+this.popup_width/2,this.popup_y+30*i)}},{key:"drawPopup",value:function(t){t.fillStyle="#B3EFF7",t.fillRect(this.popup_x,this.popup_y,this.popup_width,this.popup_height),t.stroke(),t.fillStyle="black",t.strokeRect(this.popup_x,this.popup_y,this.popup_width,this.popup_height),t.textAlign="center",t.font="20px Tahoma",this.drawTextLine(t,this.line1,1),this.drawTextLine(t,this.line2,2),this.drawTextLine(t,this.line3,3),this.drawTextLine(t,this.line4,4)}},{key:"draw",value:function(t){t.drawImage(this.image,this.x_pos,this.y_pos,this.width,this.height)}},{key:"update",value:function(t){}}]),e}();exports.default=p;
},{}],"qtX7":[function(require,module,exports) {
"use strict";function t(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function s(t,s){for(var e=0;e<s.length;e++){var i=s[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i={MARKETING:0,LOGICSTICS:1},h=function(){function s(e,i,h,o,a){switch(t(this,s),this.x_pos=e,this.y_pos=i,this.height=200,this.width=100,this.box_height=200,this.box_width=1100,this.box_x=100,this.box_y=100,this.type=h,this.gamestats=o,this.kitchen=a,this.stat_level=1,this.type){case 0:this.cost=4,this.cost_increment=4,this.incrementseconds=-100,this.stat_maxlevel=20;break;case 1:this.cost=2,this.cost_increment=2,this.incrementseconds=-100,this.stat_maxlevel=20}}return e(s,[{key:"onHover",value:function(t){switch(this.type){case 0:this.hovermsg1="RESEARCH MARKETING - Increases rate of new customers",this.hovermsg2="CURRENT NEW CUST RATE: Chance of new customer vists every "+this.gamestats.custgen_time+" seconds",this.hovermsg3="CURENT LEVEL: "+this.stat_level+" NEXT LEVEL COST: "+this.cost;break;case 1:this.hovermsg1="RESEARCH LOGISTICS - Increases cooking speed",this.hovermsg2="CURENT COOK SPEED: 1 Food cooked every "+this.kitchen.cook_time+" seconds",this.hovermsg3="CURENT LEVEL: "+this.stat_level+" NEXT LEVEL COST: "+this.cost}t.textAlign="left",t.fillStyle="white",t.fillRect(this.box_x,this.box_y,this.box_width,this.box_height),t.stroke(),t.fillStyle="black",t.fillText(this.hovermsg1,this.box_x+10,this.box_y+30),t.fillText(this.hovermsg2,this.box_x+10,this.box_y+60),t.fillText(this.hovermsg3,this.box_x+10,this.box_y+90)}},{key:"upgrade",value:function(){switch(this.type){case 0:this.gamestats.dollars>=this.cost&&this.stat_level<this.stat_maxlevel&&(this.gamestats.custgen_time=this.gamestats.custgen_time+this.incrementseconds,this.gamestats.dollars=this.gamestats.dollars-this.cost,this.cost=this.cost+this.cost_increment,this.stat_level=this.stat_level+1);break;case 1:this.gamestats.dollars>=this.cost&&(this.kitchen.cook_time=this.kitchen.cook_time+this.incrementseconds,this.gamestats.dollars=this.gamestats.dollars-this.cost,this.cost=this.cost+this.cost_increment,this.stat_level=this.stat_level+1)}}},{key:"draw",value:function(t){t.fillStyle=this.box_outline_color,t.strokeRect(this.x_pos,this.y_pos,this.width,this.height)}}]),s}();exports.default=h;
},{}],"gCPM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.GAMESTATE=void 0;var t=I(require("/src/gameStats")),e=I(require("/src/clam")),s=I(require("/src/input")),a=I(require("/src/kitchen")),i=p(require("/src/customer")),o=p(require("/src/thug")),r=I(require("/src/coin")),n=p(require("/src/food")),h=require("/src/gameMechanics"),c=I(require("/src/tutorialPopup")),l=I(require("/src/endDayPopup")),u=I(require("/src/portal")),d=I(require("./beginDayPopup")),m=I(require("./taxMan")),g=I(require("./upgradeObject")),E=require("./clam");function T(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,s=new WeakMap;return(T=function(t){return t?s:e})(t)}function p(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=T(e);if(s&&s.has(t))return s.get(t);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var r=i?Object.getOwnPropertyDescriptor(t,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=t[o]}return a.default=t,s&&s.set(t,a),a}function I(t){return t&&t.__esModule?t:{default:t}}function f(t){return H(t)||G(t)||A(t)||_()}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(t,e){if(t){if("string"==typeof t)return O(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?O(t,e):void 0}}function G(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function H(t){if(Array.isArray(t))return O(t)}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,a=new Array(e);s<e;s++)a[s]=t[s];return a}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){for(var s=0;s<e.length;s++){var a=e[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function b(t,e,s){return e&&k(t.prototype,e),s&&k(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}var w={BUSINESSDAY:0,NIGHT:1,MENU:2,TUTORIAL:3,ENDDAY:4,NEXTLEVEL:5,GAMEOVER:6,TAXHOUSE:7,INHOME:8,INCITY1:9,INHOOD_NIGHT:10,INHOOD_DAY:11,UPGRADEROOM:12,RESTO:13,INCITY2:14};exports.GAMESTATE=w;var y=function(){function E(t,a,i){S(this,E),this.ctx=i,this.GAME_WIDTH=t,this.GAME_HEIGHT=a,this.background=document.getElementById("background"),this.night_bg=document.getElementById("night_bg"),this.nighttown1=document.getElementById("nighttown1"),this.nighttown2=document.getElementById("nighttown2"),this.car=document.getElementById("car"),this.hood_bg=document.getElementById("hood_bg"),this.hood_bg_day=document.getElementById("hood_bg_day"),this.clam=new e.default(this.GAME_WIDTH,this.GAME_HEIGHT),new s.default(i,this.clam),this.gamestate=w.MENU,this.spacebarHandler()}return b(E,[{key:"start",value:function(){this.gameStats=new t.default(this.GAME_WIDTH,this.GAME_HEIGHT),this.bullets=[],this.coins=[],this.popups=[],this.npcs=[],this.customers=[],this.thugs=[],this.portals=[],this.upgrades=[],this.kitchen=new a.default(this.GAME_WIDTH,this.GAME_HEIGHT),this.upgrades.push(new g.default(800,500,0,this.gameStats,this.kitchen)),this.upgrades.push(new g.default(400,500,1,this.gameStats,this.kitchen))}},{key:"update",value:function(t){switch(this.gamestate){case w.BUSINESSDAY:this.thugs=this.gameStats.thugs,this.thugs.forEach(function(t){return M(t)}),this.updateThugs(),this.thugs=this.thugs.filter(function(t){return!t.markfordelete}),this.kitchen.update(t),this.customers=this.customers.filter(function(t){return!t.markfordelete}),this.customers=this.gameStats.custs,this.updateCustomers(t),this.checkClamGettingFood(),this.bullets=this.bullets.filter(function(t){return!t.marked_for_deletion}),this.updateBullets(this.bullets,t),this.coins=this.coins.filter(function(t){return!t.marked_for_deletion}),this.updateCoins(this.coins),this.clam.update(t),this.gameStats.business_day_timer<=0&&(this.goToGamestate(w.ENDDAY),console.log("TIMER UP"));break;case w.TAXHOUSE:case w.INHOME:case w.UPGRADEROOM:case w.RESTO:this.clam.update(t);break;case w.INCITY1:this.clam.update(t),this.clam.x_pos+this.clam.width>=this.GAME_WIDTH&&this.goToGamestate(w.INCITY2);break;case w.INCITY2:this.clam.update(t),this.clam.x_pos<=0&&this.goToGamestate(w.INCITY1);break;case w.NIGHT:this.clam.update(t),this.clam.x_pos<=0&&this.goToGamestate(w.INHOOD_NIGHT);break;case w.INHOOD_NIGHT:this.clam.update(t),this.clam.x_pos+this.clam.width>=this.GAME_WIDTH&&this.goToGamestate(w.NIGHT);break;case w.INHOOD_DAY:this.clam.update(t),this.clam.x_pos+this.clam.width>=this.GAME_WIDTH&&this.goToGamestate(w.BUSINESSDAY);break;case w.ENDDAY:this.kitchen.update(t),this.updateCustomers(t),this.coins=this.coins.filter(function(t){return!t.marked_for_deletion}),this.updateCoins(this.coins),this.checkClamGettingFood(),this.thugs=this.gameStats.thugs,this.thugs=this.thugs.filter(function(t){return!t.markfordelete}),this.updateThugs(),this.bullets=this.bullets.filter(function(t){return!t.marked_for_deletion}),this.updateBullets(this.bullets,t),this.clam.update(t);break;case w.TUTORIAL:case w.NEXTLEVEL:this.checkClamGettingFood(),this.bullets=this.bullets.filter(function(t){return!t.marked_for_deletion}),this.clam.update(t),this.clam.x_pos+this.clam.width>=this.GAME_WIDTH&&(this.goToGamestate(w.BUSINESSDAY),console.log("clam went to right, go to business day"));break;case w.GAMEOVER:this.kitchen.update(t),this.updateCustomers(t),this.coins=this.coins.filter(function(t){return!t.marked_for_deletion}),this.updateCoins(this.coins),this.checkClamGettingFood(),this.bullets=this.bullets.filter(function(t){return!t.marked_for_deletion}),this.updateBullets(this.bullets,t),this.clam.update(t)}}},{key:"draw",value:function(t){var e=this;switch(this.gamestate){case w.BUSINESSDAY:case w.ENDDAY:t.drawImage(this.background,0,0,this.GAME_WIDTH,this.GAME_HEIGHT),this.kitchen.draw(t),[].concat(f(this.popups),f(this.customers),f(this.thugs),f(this.bullets),f(this.coins)).forEach(function(e){return e.draw(t)}),this.clam.draw(t),this.gameStats.draw(t);break;case w.GAMEOVER:t.drawImage(this.background,0,0,this.GAME_WIDTH,this.GAME_HEIGHT),this.kitchen.draw(t),[].concat(f(this.customers),f(this.thugs),f(this.bullets),f(this.coins),f(this.popups)).forEach(function(e){return e.draw(t)}),this.customers.forEach(function(e){return e.draw(t)}),this.clam.draw(t),this.gameStats.draw(t),t.fillText("GAME OVER",this.GAME_WIDTH/2,this.GAME_HEIGHT/2);break;case w.NIGHT:t.drawImage(this.night_bg,0,0,this.GAME_WIDTH,this.GAME_HEIGHT),t.drawImage(this.car,600,178),[this.kitchen,this.clam,this.gameStats].concat(f(this.bullets),f(this.coins),f(this.popups)).forEach(function(e){return e.draw(t)}),this.npcs.forEach(function(e){return e.draw(t)}),this.portals.forEach(function(e){return e.draw(t)}),this.checkTaxMan(t);break;case w.INHOOD_NIGHT:t.drawImage(this.hood_bg,0,0,this.GAME_WIDTH,this.GAME_HEIGHT),this.clam.draw(t),this.portals.forEach(function(e){return e.draw(t)}),this.gameStats.draw(t);break;case w.INHOOD_DAY:t.drawImage(this.hood_bg_day,0,0,this.GAME_WIDTH,this.GAME_HEIGHT),this.clam.draw(t),this.gameStats.draw(t);break;case w.INCITY1:t.drawImage(this.nighttown1,0,0,this.GAME_WIDTH,this.GAME_HEIGHT),t.drawImage(this.car,1,500),[].concat(f(this.popups),[this.clam],f(this.portals),[this.gameStats]).forEach(function(e){return e.draw(t)});break;case w.INCITY2:t.drawImage(this.nighttown2,0,0,this.GAME_WIDTH,this.GAME_HEIGHT),t.drawImage(this.car,1e3,520),[].concat(f(this.popups),[this.clam],f(this.portals),[this.gameStats]).forEach(function(e){return e.draw(t)});break;case w.TAXHOUSE:t.drawImage(document.getElementById("taxroom"),0,0,this.GAME_WIDTH,this.GAME_HEIGHT),this.npcs.forEach(function(e){return e.draw(t)}),this.clam.draw(t),this.portals.forEach(function(e){return e.draw(t)}),t.fillText("Taxes Paid - CLAM: "+this.gameStats.daysTaxPaid,500,400),this.checkTaxMan(t),this.gameStats.draw(t);break;case w.INHOME:t.drawImage(document.getElementById("room"),0,0,this.GAME_WIDTH,this.GAME_HEIGHT),t.drawImage(document.getElementById("bed"),this.GAME_WIDTH/2,this.GAME_HEIGHT/2,200,300),t.fillText("START NEXT DAY",this.GAME_WIDTH/2,this.GAME_HEIGHT/2),this.clam.draw(t),this.portals.forEach(function(e){return e.draw(t)});break;case w.UPGRADEROOM:t.drawImage(document.getElementById("upgrade_room"),0,0,this.GAME_WIDTH,this.GAME_HEIGHT),this.clam.draw(t),this.upgrades.forEach(function(e){return e.draw(t)}),this.portals.forEach(function(e){return e.draw(t)}),this.upgrades.forEach(function(s){(0,h.detectRectCollision)(s,e.clam)&&(console.log("clam collide upgradobj"),s.onHover(t))}),this.gameStats.draw(t);break;case w.RESTO:t.drawImage(document.getElementById("restaurant"),0,0,this.GAME_WIDTH,this.GAME_HEIGHT),this.clam.draw(t),this.gameStats.draw(t),this.portals.forEach(function(e){return e.draw(t)});break;case w.TUTORIAL:t.drawImage(this.hood_bg,0,0,this.GAME_WIDTH,this.GAME_HEIGHT),[].concat(f(this.bullets),f(this.popups)).forEach(function(e){return e.draw(t)}),this.clam.draw(t),this.gameStats.draw(t);break;case w.NEXTLEVEL:t.drawImage(this.hood_bg_day,0,0,this.GAME_WIDTH,this.GAME_HEIGHT),[].concat(f(this.bullets),f(this.popups)).forEach(function(e){return e.draw(t)}),this.clam.draw(t),this.gameStats.draw(t);break;case w.MENU:t.drawImage(this.background,0,0,this.GAME_WIDTH,this.GAME_HEIGHT),t.font="40px Arial",t.fillStyle="white",t.textAlign="center",t.fillText("Press SPACEBAR to start game",this.GAME_WIDTH/2,this.GAME_HEIGHT/2+50)}}},{key:"eraseObjects",value:function(){this.bullets=[],this.coins=[],this.customers=[],this.kitchen.cooked_food=[],this.clam.bullets_held=[],this.popups=[],this.portals=[],this.npcs=[],this.thugs=[]}},{key:"spacebarHandler",value:function(){var t=this;document.addEventListener("keydown",function(e){if(32===e.keyCode)switch(t.gamestate){case w.BUSINESSDAY:t.clam.bullets_held.length>0&&(t.bullets.push(new n.default(t.clam.x_pos,t.clam.y_pos,t.clam.facing)),t.clam.bullets_held.shift(),t.clam.shooting=!0);break;case w.MENU:t.goToGamestate(w.TUTORIAL);break;case w.ENDDAY:0===t.kitchen.cooked_food.length&&t.goToGamestate(w.NIGHT);break;case w.TAXHOUSE:t.payTaxMan(),t.checkAndTriggerPortals(t.portals);break;case w.INHOME:case w.INCITY1:case w.INCITY2:case w.RESTO:t.checkAndTriggerPortals(t.portals);break;case w.NIGHT:t.payTaxMan(),t.checkAndTriggerPortals(t.portals);break;case w.INHOOD_NIGHT:case w.NEXTLEVEL:t.popups=[],t.checkAndTriggerPortals(t.portals);break;case w.TUTORIAL:t.popups=[],t.goToGamestate(w.INHOOD_DAY);break;case w.UPGRADEROOM:t.checkAndTriggerPortals(t.portals),t.upgrades.forEach(function(e){(0,h.detectRectCollision)(e,t.clam)&&(console.log(e),e.upgrade())});break;case w.GAMEOVER:t.eraseObjects(),t.gameStats.gameOver(),t.gamestate=w.MENU}})}},{key:"goToGamestate",value:function(t){console.log("GAMESTATE: "+this.gamestate),t===w.BUSINESSDAY&&(this.gamestate!==w.TUTORIAL&&this.gamestate!==w.NEXTLEVEL&&this.gamestate!==w.INHOOD_DAY||(this.clam.x_pos=1),this.eraseObjects(),this.popups=[],this.bullets=[],this.customers=[],this.coins=[],this.gamestate=w.BUSINESSDAY,C(this.kitchen),N(this.gameStats),v(this.gameStats),D(this.gameStats)),t===w.TUTORIAL&&(this.gamestate=w.TUTORIAL,this.start(),this.cookOneFood(),this.popups.push(new c.default(this.GAME_WIDTH,this.GAME_HEIGHT,this.gameStats.business_day_timer,this.gameStats.days_tax))),t===w.ENDDAY&&(this.kitchen.cooking=!1,this.gameStats.timerOn=!1,this.gameStats.custgen_on=!1,this.gameStats.thuggen_on=!1,this.gamestate=w.ENDDAY,this.popups.push(new l.default(this.GAME_WIDTH,this.GAME_HEIGHT,this.gameStats.days_fedcusts,this.gameStats.days_dollars,this.gameStats.days_tax))),t===w.NEXTLEVEL&&(this.eraseObjects(),this.gameStats.incrementLevel(),this.gamestate=w.NEXTLEVEL,this.popups.push(new d.default(this.GAME_WIDTH,this.GAME_HEIGHT,this.gameStats.day,this.gameStats.business_day_timer,this.gameStats.days_tax)),this.cookOneFood()),t===w.GAMEOVER&&(this.gamestate=w.GAMEOVER,this.eraseObjects(),this.kitchen.cooking=!1,this.gameStats.timerOn=!1),t===w.NIGHT&&(this.gamestate===w.TAXHOUSE?(this.clam.x_pos=this.GAME_WIDTH/2+10,this.clam.y_pos=this.GAME_HEIGHT-150):this.gamestate===w.INHOOD_NIGHT?this.clam.x_pos=1:this.gamestate!==w.INCITY1&&this.gamestate!==w.INCITY2||(this.clam.x_pos=638,this.clam.y_pos=248),this.eraseObjects(),this.gameStats.resetLevel(),this.gamestate=w.NIGHT,this.portals.push(new u.default(620,255,w.INCITY1)),this.npcs.push(new m.default(1e3,600,this.gameStats.days_tax))),t===w.INCITY1&&(this.gamestate===w.NIGHT?(this.clam.x_pos=5,this.clam.y_pos=550):this.gamestate===w.INCITY2?this.clam.x_pos=this.GAME_WIDTH-this.clam.width:this.gamestate===w.UPGRADEROOM?(this.clam.x_pos=445,this.clam.y_pos=550):this.gamestate===w.RESTO&&(this.clam.x_pos=800,this.clam.y_pos=550),this.eraseObjects(),this.gamestate=w.INCITY1,this.portals.push(new u.default(1,570,w.NIGHT)),this.portals.push(new u.default(400,570,w.UPGRADEROOM)),this.portals.push(new u.default(780,570,w.RESTO))),t===w.INCITY2&&(this.gamestate===w.INCITY1?this.clam.x_pos=1:this.gamestate===w.TAXHOUSE&&(this.clam.x_pos=720,this.clam.y_pos=580),this.eraseObjects(),this.gamestate=w.INCITY2,this.portals.push(new u.default(680,590,w.TAXHOUSE)),this.portals.push(new u.default(1e3,590,w.NIGHT))),t===w.INHOOD_NIGHT&&(this.gamestate===w.NIGHT&&(this.clam.x_pos=this.GAME_WIDTH-this.clam.width),this.eraseObjects(),this.portals.push(new u.default(480,440,w.NEXTLEVEL)),this.gamestate=w.INHOOD_NIGHT),t===w.INHOOD_DAY&&(this.eraseObjects(),this.gamestate=w.INHOOD_DAY),t===w.TAXHOUSE&&(this.eraseObjects(),this.clam.x_pos=60,this.clam.y_pos=730,this.gamestate=w.TAXHOUSE,this.portals.push(new u.default(50,730,w.INCITY2)),this.npcs.push(new m.default(800,665,this.gameStats.days_tax))),t===w.INHOME&&(this.eraseObjects(),this.gamestate=w.INHOME,this.portals.push(new u.default(950,this.GAME_HEIGHT-450,w.NIGHT)),this.portals.push(new u.default(600,600,w.NEXTLEVEL)),this.clam.x_pos=1e3,this.clam.y_pos=this.GAME_HEIGHT-450),t===w.UPGRADEROOM&&(this.eraseObjects(),this.portals.push(new u.default(500,742,w.INCITY1)),this.gamestate=w.UPGRADEROOM,this.clam.x_pos=540,this.clam.y_pos=730),t===w.RESTO&&(this.eraseObjects(),this.portals.push(new u.default(1e3,657,w.INCITY1)),this.gamestate=w.RESTO,this.clam.x_pos=1040,this.clam.y_pos=641)}},{key:"updateBullets",value:function(t){var e=this;this.bullets.forEach(function(s,a){for(var i=0;i<e.customers.length;i++){var o=e.customers[i];(0,h.detectOverlapCollision)(s,o)&&s.state===n.FOODSTATE.SERVED&&!1===o.saturated&&(o.saturated=!0,e.foodBeingEaten(s,o),s.state=n.FOODSTATE.BEINGEATEN)}s.update(t)})}},{key:"updateCustomers",value:function(t){var e=this;this.customers.forEach(function(s,a){s.update(t),s.hunger_points<=0&&s.state===i.CUSTSTATE.DROPPINGLOOT&&(e.dropCoin(s),e.gameStats.days_fedcusts++,s.state=i.CUSTSTATE.EXITING);for(var o=0;o<e.bullets.length;o++){var r=e.bullets[o];(0,h.detectOverlapCollision)(r,s)&&s.state===i.CUSTSTATE.ACTIVE&&r.state===n.FOODSTATE.SERVED&&e.triggerCustEatingFood(s,r)}})}},{key:"updateThugs",value:function(t){var e=this;this.thugs.forEach(function(t){t.update(e.gamestate),(0,h.detectRectCollision)(t,e.clam)&&!1===t.attacking&&e.gamestate===w.BUSINESSDAY&&(t.attacking=!0,t.state=o.THIEFSTATE.ATTACKING,t.randomMovementOn=!1,t.prepAttack(),setTimeout(function(){t.img=t.img_attack2},200),setTimeout(function(){t.randomMovementOn=!0,t.attacking=!1,t.state=o.THIEFSTATE.WALKING},1e3),setTimeout(function(t,e){-1===t.facing?t.pushed_right=!0:t.pushed_left=!0,e.lives=e.lives-1},200,e.clam,e.gameStats),console.log("clam and thug hit"),console.log("Clam's lives left: "+e.gameStats.lives),e.gameStats.lives<=0&&e.goToGamestate(w.GAMEOVER))})}},{key:"updateCoins",value:function(t){var e=this;t.forEach(function(t){(0,h.detectCollision)(t,e.clam)&&(t.marked_for_deletion=!0,e.gameStats.dollars=e.gameStats.dollars+t.value,e.gameStats.days_dollars=e.gameStats.days_dollars+t.value)})}},{key:"checkAndTriggerPortals",value:function(t){var e=this;t.forEach(function(t){(0,h.detectRectCollision)(t,e.clam)&&(console.log(t),e.goToGamestate(t.getGamestate()),console.log("entered: "+e.gamestate))})}},{key:"cookOneFood",value:function(){this.kitchen.cooked_food.push(new n.default(this.kitchen.x_pos+40,this.kitchen.y_pos+this.kitchen.truck_height-80,1,n.FOODSTATE.INKITCHEN,this.kitchen))}},{key:"triggerCustEatingFood",value:function(t,e){t.state=i.CUSTSTATE.EATING;var s=setInterval(function(){t.hunger_points=t.hunger_points-e.hunger_fill,t.hunger_points<=0&&(clearInterval(s),console.log("Hunger depleted"),t.state=i.CUSTSTATE.DROPPINGLOOT)},750)}},{key:"dropCoin",value:function(t){this.coins.push(new r.default(t.x_pos+t.width/2,t.y_pos+t.height/2,t.drop_value)),console.log("dropCoin function activated")}},{key:"foodBeingEaten",value:function(t,e){var s=setInterval(function(){t.size=t.size-10,t.x_pos=t.x_pos+5,t.y_pos=t.y_pos+5,(e.state===i.CUSTSTATE.DROPPINGLOOT||e.state===i.CUSTSTATE.EXITING)&&(clearInterval(s),t.marked_for_deletion=!0)},300)}},{key:"checkClamGettingFood",value:function(){var t=this;this.kitchen.cooked_food.forEach(function(e,s){(0,h.detectCollision)(t.clam,e)&&(e.marked_for_deletion=!0,t.clam.newBullet())})}},{key:"checkTaxMan",value:function(t){var e=this.npcs[0];!1===this.gameStats.daysTaxPaid&&(0,h.detectRectCollision)(this.clam,e)&&e.drawPopup(t)}},{key:"payTaxMan",value:function(){var t=this.npcs[0];!1===this.gameStats.daysTaxPaid&&this.gameStats.dollars>=this.gameStats.days_tax&&(0,h.detectRectCollision)(this.clam,t)&&(this.gameStats.daysTaxPaid=!0,this.gameStats.dollars=this.gameStats.dollars-this.gameStats.days_tax)}}]),E}();function N(t){if(!1===t.timerOn){var e=setInterval(function(){t.business_day_timer--,t.business_day_timer<=0&&clearInterval(e)},t.advance_interval);t.timerOn=!0}}function M(t){if(!1===t.randomMovementOn){t.randomMovementOn=!0;var e=setInterval(function(t){!1===t.randomMovementOn&&clearInterval(e);var s=(0,h.randomIntFromInterval)(1,6);1===s?(t.x_direction=1,t.state=o.THIEFSTATE.WALKING):2===s?(t.x_direction=0,0===t.y_direction&&(t.state=o.THIEFSTATE.STANDING)):3===s?(t.x_direction=-1,t.state=o.THIEFSTATE.WALKING):4===s?(t.y_direction=1,t.state=o.THIEFSTATE.WALKING):5===s?(t.y_direction=0,0===t.x_direction&&(t.state=o.THIEFSTATE.STANDING)):6===s&&(t.y_direction=-1,t.state=o.THIEFSTATE.WALKING)},t.randomMovementInterval,t)}}function v(t){if(!1===t.custgen_on){var e=setInterval(function(){!1===t.custgen_on&&clearInterval(e);if(t.activecust_length<=t.activecust_maxlength){var s=(0,h.randomIntFromInterval)(1,3);console.log(s),1===s?t.custs.push(new i.default(1200,800)):2===s&&(t.custs.push(new i.default(1200,800)),t.custs.push(new i.default(1200,800)))}},t.custgen_time);t.custgen_on=!0}}function D(t){if(!1===t.thuggen_on){var e=setInterval(function(s){!1===t.thuggen_on&&clearInterval(e);if(t.activethug_length<=t.activethug_maxlength){var a=(0,h.randomIntFromInterval)(1,2);console.log("thug roll: "+a),console.log("thuggen time"+t.thuggen_time),1===a&&t.thugs.push(new o.default(1200,800))}},t.thuggen_time,t.thuggen_time);t.thuggen_on=!0}}function C(t){if(!1===t.cooking){var e=setInterval(function(){!1===t.cooking&&clearInterval(e);t.cooked_food.length<t.max_food&&(this.rndBinary=(0,h.randomIntFromInterval)(t.y_pos+.4*t.truck_height,t.y_pos+.6*t.truck_height-5),t.cooked_food.push(new n.default(t.x_pos+30,this.rndBinary,1,n.FOODSTATE.INKITCHEN,this.kitchen)))},t.cook_time);t.cooking=!0}}exports.default=y;
},{"/src/gameStats":"VvYp","/src/clam":"IOE6","/src/input":"gFLk","/src/kitchen":"gXhG","/src/customer":"wRSA","/src/thug":"lD31","/src/coin":"T45U","/src/food":"qjGJ","/src/gameMechanics":"KSji","/src/tutorialPopup":"PKv1","/src/endDayPopup":"g2zd","/src/portal":"oLgR","./beginDayPopup":"ushN","./taxMan":"uO5d","./upgradeObject":"qtX7","./clam":"IOE6"}],"H99C":[function(require,module,exports) {
"use strict";var e=t(require("./gameManager"));function t(e){return e&&e.__esModule?e:{default:e}}var a=1200,r=800,n=document.getElementById("canvas1"),u=n.getContext("2d");n.height=r,n.width=a;var d=0,i=10,c=new e.default(a,r,n);function o(e){var t=e-d;t<i||(d=e,u.clearRect(0,0,a,r),c.update(t),c.draw(u)),requestAnimationFrame(o)}o();
},{"./gameManager":"gCPM"}]},{},["H99C"], null)
//# sourceMappingURL=/csb-uf8k2/src.2275915b.js.map